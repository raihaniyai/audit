(this.webpackJsonpaudit=this.webpackJsonpaudit||[]).push([[0],{358:function(n,t,e){},372:function(n,t){},373:function(n,t){},381:function(n,t){},384:function(n,t){},385:function(n,t){},394:function(n,t,e){"use strict";e.r(t);var a=e(25),c=e(1),i=e(72),r=e.n(i),o=e(345),s=e(64),l=(e(358),e(6)),u=e(398),d=e(401),j=e(406),b=e(315),f=function(){var n=b.load(),t=Object(c.useState)({loading:!0,returnData:null}),e=Object(l.a)(t,2),a=e[0],i=e[1];return Object(c.useEffect)((function(){a.returnData||n.then((function(n){return i({loading:!1,returnData:n})}))}),[n,a.returnData]),{loading:a.loading,returnData:a.returnData}},h=(e(393),e(397)),O=e(405),x=e(150),p=e(335),m=e.n(p),v=e(5),g=e.n(v),k=e(13),w=function(){var n=Object(k.a)(g.a.mark((function n(t,e,a,c){var i,r,o,s,l,u,d;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((null===t||void 0===t?void 0:t.current)&&e&&4===(null===t||void 0===t?void 0:t.current.video.readyState)||(null===c||void 0===c?void 0:c.current))){n.next=14;break}return r={},o=null===c||void 0===c?void 0:c.current,s=null===(i=t.current)||void 0===i?void 0:i.video,l=t.current.video.videoWidth,u=t.current.video.videoHeight,t.current.video.width=l,t.current.video.height=u,n.next=10,e.detect(o||s);case 10:n.sent.forEach((function(n){r[n.class]=(r[n.class]||0)+1})),d=Object.keys(r).map((function(n){return{name:n,total:r[n]}})),a(d);case 14:case"end":return n.stop()}}),n)})));return function(t,e,a,c){return n.apply(this,arguments)}}(),y=e(399),D=e(402),S=e(400),N=e(266);e(386),e(395);N.a.initializeApp({apiKey:"AIzaSyB8Rwp8D6Dz918_WZs_Qixk3e49fJFCpt0",authDomain:"audit-bpk.firebaseapp.com",databaseURL:"https://audit-bpk-default-rtdb.firebaseio.com",projectId:"audit-bpk",storageBucket:"audit-bpk.appspot.com",messagingSenderId:"926140905572",appId:"1:926140905572:web:9f729048cef4b411f40771",measurementId:"G-FS7N1J8CZN"});var C=N.a.storage(),z=N.a.database(),B=function(n){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=e.length,c=0;c<n;c++)t+=e.charAt(Math.floor(Math.random()*a));return t},I=function(n,t){var e="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(null===n||void 0===n?void 0:n.toString(),"&lon=").concat(null===t||void 0===t?void 0:t.toString(),"&zoom=18&addressdetails=1"),a=Object(c.useState)({loading:!0,returnData:null}),i=Object(l.a)(a,2),r=i[0],o=i[1];return Object(c.useEffect)((function(){fetch(e).then((function(n){return n.json()})).then((function(n){o({loading:!1,returnData:n})}))}),[r.loading,r.returnData]),{loading:r.loading,returnData:r.returnData}},M=e(336),F=e.n(M),T=e(337),L=e(53),P=e(54);function A(){var n=Object(L.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  margin-bottom: 16px;\n"]);return A=function(){return n},n}function R(){var n=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return R=function(){return n},n}function U(){var n=Object(L.a)(["\n  text-align: center;\n  margin: 4px 4px 0 4px;\n  font-size: 14px;\n  width: 60px;\n"]);return U=function(){return n},n}function E(){var n=Object(L.a)(["\n  margin-left: 14px;\n  font-size: 16px;\n"]);return E=function(){return n},n}function V(){var n=Object(L.a)(["\n  flex-direction: column;\n  display: flex;\n  margin-bottom: 16px;\n"]);return V=function(){return n},n}function _(){var n=Object(L.a)(["\n  font-size: 16px;\n  color: rgba(0, 0, 0, 0.7);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 140px;\n"]);return _=function(){return n},n}function Y(){var n=Object(L.a)(["\n  margin-left: 8px;\n  margin-top: 8px;\n  flex-grow: 1;\n"]);return Y=function(){return n},n}function H(){var n=Object(L.a)(["\n  display: flex;\n\n  .ant-checkbox-inner {\n    margin-top: 13px;\n  }\n\n  .ant-checkbox-checked::after {\n    border: none;\n  }\n"]);return H=function(){return n},n}var J=Object(P.a)(H()),K=Object(P.a)(Y()),G=Object(P.a)(_()),W=Object(P.a)(V()),Z=Object(P.a)(E()),Q=Object(P.a)(U()),q=Object(P.a)(R()),X=Object(P.a)(A()),$=function(n){var t=n.visible,e=n.setVisible,c=n.data,i=n.setShowCamera,r=n.img,o=Object(T.a)(),s=I(o.latitude,o.longitude);return Object(a.jsxs)(y.a,{title:"Konfirmasi",visible:t,onOk:function(){e(!1),C.ref(B(10)+".png").putString(r,"data_url").then((function(n){n.ref.getDownloadURL().then((function(n){var t=F()().format("HH:mm - D MMM YYYY");c.forEach((function(e){var a;!function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;z.ref(n).transaction((function(n){return(n||0)+t}))}("/object/"+e.name+"/total",e.total),function(n){var t=z.ref(n||"/");return{getAll:function(){return t},push:function(n){return t.push(n)},update:function(n,e){return t.child(n).update(e)},remove:function(n){return t.child(n).remove()},removeAll:function(){return t.remove()},set:function(n,e){return t.set(e)}}}("/object/"+e.name+"/data").push({uploaded_by:"Dharmawan Santosa",location:null===s||void 0===s||null===(a=s.returnData)||void 0===a?void 0:a.display_name,upload_time:t,image:n})})),y.a.success({title:"Berhasil!",content:"Data berhasil disimpan di Project 01.MM",onOk:function(){return i(!1)}})})).catch((function(){y.a.success({title:"Gagal",content:"Data gagal disimpan di Project 01.MM",okText:"Ulang"})}))})).catch((function(n){y.a.success({title:"Gagal",content:"Data gagal disimpan di Project 01.MM",okText:"Ulang"})}))},onCancel:function(){e(!1)},okText:"Simpan",cancelText:c.length<1?"Ulang":"Batal",okButtonProps:{disabled:c.length<1},children:[Object(a.jsx)("img",{src:r,alt:"",className:X}),c.length<1&&Object(a.jsx)("div",{children:"Belum ada produk yang terdeteksi, mohon coba kembali"}),c.map((function(n,t){return Object(a.jsx)("div",{className:W,children:Object(a.jsxs)("div",{className:q,children:[Object(a.jsx)(D.a,{className:J,defaultChecked:!0,children:Object(a.jsx)("div",{className:K,children:Object(a.jsx)("div",{className:G,children:n.name})})}),Object(a.jsx)("div",{className:Z,children:Object(a.jsx)(S.a,{className:Q,defaultValue:n.total})})]})},t)}))]})};$.defaultProps={data:[],visible:!1,setVisible:function(){},setShowCamera:function(){},img:""};var nn=$,tn=e(148),en=e(403),an=e(404),cn=e(106);function rn(){var n=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 16px;\n  margin-top: 8px;\n\n  span:first-child {\n    width: 150px;\n    color: ",";\n  }\n\n  span:last-child {\n    text-align: right;\n  }\n"]);return rn=function(){return n},n}function on(){var n=Object(L.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]);return on=function(){return n},n}function sn(){var n=Object(L.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  margin-bottom: 16px;\n"]);return sn=function(){return n},n}function ln(){var n=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return ln=function(){return n},n}function un(){var n=Object(L.a)(["\n  margin-left: 14px;\n  font-size: 16px;\n  margin-top: 8px;\n"]);return un=function(){return n},n}function dn(){var n=Object(L.a)(["\n  flex-direction: column;\n  display: flex;\n  margin-bottom: 16px;\n"]);return dn=function(){return n},n}function jn(){var n=Object(L.a)(["\n  font-size: 16px;\n  color: rgba(0, 0, 0, 0.7);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 140px;\n"]);return jn=function(){return n},n}function bn(){var n=Object(L.a)(["\n  margin-left: 8px;\n  margin-top: 8px;\n  flex-grow: 1;\n"]);return bn=function(){return n},n}function fn(){var n=Object(L.a)(["\n  display: flex;\n\n  .ant-checkbox-inner {\n    margin-top: 13px;\n  }\n\n  .ant-checkbox-checked::after {\n    border: none;\n  }\n"]);return fn=function(){return n},n}Object(P.a)(fn());var hn=Object(P.a)(bn()),On=Object(P.a)(jn()),xn=Object(P.a)(dn()),pn=Object(P.a)(un()),mn=Object(P.a)(ln()),vn=Object(P.a)(sn()),gn=Object(P.a)(on()),kn=Object(P.a)(rn(),cn.e),wn=function(n){var t,e,i=n.visible,r=n.setVisible,o=n.data,s=n.setShowCamera,u=n.img,d=Object(c.useState)(!1),j=Object(l.a)(d,2),b=j[0],f=j[1],h=Object(c.useState)(!1),O=Object(l.a)(h,2),x=O[0],p=O[1],m=Object(c.useState)(""),v=Object(l.a)(m,2),g=v[0],k=v[1],w=Object(c.useState)(""),D=Object(l.a)(w,2),S=D[0],N=D[1],C=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=Object(c.useState)({loading:!0,data:t}),a=Object(l.a)(e,2),i=a[0],r=a[1];return Object(c.useEffect)((function(){i.data&&i.data!==t||z.ref(n).once("value").then((function(n){r({loading:!1,data:n.val()})})).catch((function(n){console.error(n)}))}),[n,i.data,t]),i}("/object"),B=function(){r(!1),f(!1),p(!1)},I=function(){r(!1),f(!1),s(!1)};return Object(a.jsxs)(y.a,{title:b?g:"Data Checking",onCancel:B,visible:i,footer:b||x?[Object(a.jsx)(tn.a,{onClick:function(){b&&f(!1),x&&p(!1)},children:"Kembali"},"back"),Object(a.jsx)(tn.a,{type:"primary",onClick:I,children:"Selesai"},"submit")]:[Object(a.jsx)(tn.a,{type:o.length>0?"primary":"default",onClick:o.length>0?I:B,children:o.length>0?"Selesai":"Kembali"},"submit")],children:[!b&&!x&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:u,alt:"",className:vn}),o.length<1&&Object(a.jsx)("div",{children:"Belum ada produk yang terdeteksi, mohon coba kembali"}),o.length>0&&Object(a.jsx)("div",{style:{fontSize:"16px",marginBottom:"8px"},children:"Produk Terdeteksi:"}),o.map((function(n,t){return Object(a.jsx)("div",{className:xn,children:Object(a.jsxs)("div",{className:mn,children:[Object(a.jsx)("div",{className:hn,children:Object(a.jsx)("div",{className:On,children:n.name})}),Object(a.jsx)("div",{className:pn,children:Object(a.jsx)("a",{onClick:function(){return t=n.name,k(t),void f(!0);var t},children:"Lihat Data"})})]})},t)}))]}),b&&!x&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{style:{fontSize:"16px",marginBottom:"8px"},children:[Object(a.jsx)("span",{children:"Total Data: "}),Object(a.jsx)("span",{children:(null===C||void 0===C||null===(t=C.data[g])||void 0===t?void 0:t.total)||"Belum ada data yang disimpan"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(en.a,{align:"middle",gutter:[4,4],children:Object.keys((null===C||void 0===C||null===(e=C.data[g])||void 0===e?void 0:e.data)||{}).map((function(n){return Object(a.jsx)(an.a,{span:8,children:Object(a.jsx)("img",{className:gn,src:C.data[g].data[n].image,onClick:function(){return t=C.data[g].data[n],N(t),p(!0),void f(!1);var t}})},n)}))})})]}),!b&&x&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:S.image,alt:"",className:vn}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:kn,children:[Object(a.jsx)("span",{children:"Diupload oleh"}),Object(a.jsx)("span",{children:S.uploaded_by})]}),Object(a.jsxs)("div",{className:kn,children:[Object(a.jsx)("span",{children:"Lokasi"}),Object(a.jsx)("span",{children:S.location})]}),Object(a.jsxs)("div",{className:kn,children:[Object(a.jsx)("span",{children:"Waktu"}),Object(a.jsx)("span",{children:S.upload_time})]})]}),Object(a.jsxs)("div",{style:{marginTop:"32px",color:"gray"},children:["Menemukan impostor? ",Object(a.jsx)("a",{onClick:function(){r(!1),f(!1),p(!1),s(!1),y.a.confirm({title:"Yakin Ingin Melaporkan Data?",okText:"Yakin",cancelText:"Batal"})},style:{color:"red"},children:"Laporkan!"})]})]})]})};wn.defaultProps={data:[],visible:!1,setVisible:function(){},setShowCamera:function(){},img:""};var yn=wn;function Dn(){var n=Object(L.a)(["\n  .ant-upload-list {\n    display: none;\n  }\n"]);return Dn=function(){return n},n}function Sn(){var n=Object(L.a)(["\n  position: absolute;\n  margin-left: auto;\n  margin-right: auto;\n  left: 0;\n  right: 0;\n  text-align: center;\n  z-index: 9;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]);return Sn=function(){return n},n}function Nn(){var n=Object(L.a)(["\n  z-index: 10;\n  width: 100%;\n  bottom: 0;\n  height: 100px;\n  background: white;\n  display: flex;\n  position: absolute;\n  justify-content: space-around;\n  align-items: center;\n"]);return Nn=function(){return n},n}function Cn(){var n=Object(L.a)(["\n  width: 65px;\n  height: 65px;\n  border-radius: 50%;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 24px;\n"]);return Cn=function(){return n},n}function zn(){var n=Object(L.a)(["\n  width: 100%;\n"]);return zn=function(){return n},n}var Bn=Object(P.a)(zn()),In=Object(P.a)(Cn(),cn.c),Mn=Object(P.a)(Nn()),Fn=Object(P.a)(Sn()),Tn=Object(P.a)(Dn()),Ln=function(n){var t,e,i=n.loading,r=n.returnData,o=n.source,s=n.setShowCamera,u=new FileReader,d=Object(c.useState)([]),j=Object(l.a)(d,2),b=j[0],f=j[1],p=Object(c.useState)(!1),v=Object(l.a)(p,2),g=v[0],k=v[1],y=Object(c.useState)(null),D=Object(l.a)(y,2),S=D[0],N=D[1],C=Object(c.useRef)(null),z=Object(c.useRef)(null);Object(c.useEffect)((function(){var n;return g||i?clearInterval(n):n=setInterval((function(){w(C,r,f),g&&clearInterval(n)}),10),function(){return clearInterval(n)}}),[g,i,r]);return Object(a.jsxs)("div",{className:Bn,children:[Object(a.jsxs)("header",{children:[!g&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.a,{muted:!0,ref:C,className:Fn,videoConstraints:{facingMode:"environment"}}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{ref:z,style:{display:"none"},width:null===(t=C.current)||void 0===t?void 0:t.video.width,height:null===(e=C.current)||void 0===e?void 0:e.video.height})})]}),g&&Object(a.jsx)("img",{src:S,className:Fn})]}),"collection"===o&&Object(a.jsx)(nn,{img:S,visible:g,setVisible:k,data:b,setShowCamera:s}),"checking"===o&&Object(a.jsx)(yn,{img:S,visible:g,setVisible:k,data:b,setShowCamera:s}),Object(a.jsxs)("div",{className:Mn,children:[Object(a.jsx)("a",{onClick:function(){return s(!1)},children:"Back"}),!i&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:In,onClick:function(){k(!0),N(C.current.getScreenshot())},children:Object(a.jsx)(O.a,{})}),Object(a.jsx)(h.a,{className:Tn,beforeUpload:function(n){u.readAsDataURL(n),u.onload=function(){z.current.src=u.result,w(C,r,f,z),k(!0),N(u.result)}},children:Object(a.jsx)("a",{children:"Upload"})})]}),i&&Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{}),Object(a.jsx)("span",{style:{marginLeft:"8px",color:"grey"},children:"Loading Dataset..."})]})]})]})};Ln.defaultProps={loading:!0,returnData:{}};var Pn=Ln;function An(){var n=Object(L.a)(["\n  position: absolute;\n  font-size: 24px;\n"]);return An=function(){return n},n}function Rn(){var n=Object(L.a)(["\n  width: 100%;\n  color: ",";\n  display: flex;\n  margin: 24px 0;\n  font-size: 24px;\n  font-weight: 500;\n  min-height: 180px;\n  border-radius: 8px;\n  text-align: center;\n  align-items: center;\n  background: ",";\n  justify-content: center;\n"]);return Rn=function(){return n},n}function Un(){var n=Object(L.a)(["\n  margin-left: 16px;\n  font-size: 22px;\n\n  div:last-child {\n    font-size: 16px;\n    color: ",";\n  }\n"]);return Un=function(){return n},n}function En(){var n=Object(L.a)(["\n  display: flex;\n  margin-bottom: 32px;\n"]);return En=function(){return n},n}function Vn(){var n=Object(L.a)(["\n  font-size: 24px;\n  color: ",";\n  font-weight: 800;\n"]);return Vn=function(){return n},n}function _n(){var n=Object(L.a)(["\n  padding: 24px;\n  min-height: 280px;\n  background: ",";\n  align-self: center;\n"]);return _n=function(){return n},n}function Yn(){var n=Object(L.a)(["\n  padding: 0 16px;\n  background: ",";\n  text-align:center;\n"]);return Yn=function(){return n},n}function Hn(){var n=Object(L.a)(["\n  background: ",";\n  justify-content: center;\n  display: flex;\n  align-items: center;\n"]);return Hn=function(){return n},n}var Jn=Object(P.a)(Hn(),cn.b),Kn=Object(P.a)(Yn(),cn.b),Gn=Object(P.a)(_n(),cn.b),Wn=Object(P.a)(Vn(),cn.a),Zn=Object(P.a)(En()),Qn=Object(P.a)(Un(),cn.d),qn=Object(P.a)(Rn(),cn.b,cn.a),Xn=(Object(P.a)(An()),u.a.Header),$n=u.a.Content,nt=function(){var n=f(),t=n.loading,e=n.returnData,i=Object(c.useState)(!1),r=Object(l.a)(i,2),o=r[0],s=r[1],b=Object(c.useState)(""),h=Object(l.a)(b,2),O=h[0],x=h[1],p=function(n){s(!0),x(n)};return Object(a.jsxs)(a.Fragment,{children:[o&&Object(a.jsx)(Pn,{source:O,setShowCamera:s,loading:t,returnData:e}),!o&&Object(a.jsxs)(u.a,{className:Jn,children:[Object(a.jsx)(Xn,{className:Kn,children:Object(a.jsx)("div",{className:Wn,children:"AudIT"})}),Object(a.jsxs)($n,{className:Gn,children:[Object(a.jsxs)("div",{className:Zn,children:[Object(a.jsx)("span",{children:Object(a.jsx)(d.a,{size:64,icon:Object(a.jsx)(j.a,{})})}),Object(a.jsxs)("span",{className:Qn,children:[Object(a.jsx)("div",{children:"Dharmawan Santosa"}),Object(a.jsx)("div",{children:"Rektorat AudIT"})]})]}),Object(a.jsxs)("div",{className:qn,onClick:function(){return p("collection")},children:["Data",Object(a.jsx)("br",{}),"Collection"]}),Object(a.jsxs)("div",{className:qn,onClick:function(){return p("checking")},children:["Data",Object(a.jsx)("br",{}),"Checking"]})]})]})]})},tt=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,407)).then((function(t){var e=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;e(n),a(n),c(n),i(n),r(n)}))};r.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(s.c,{children:Object(a.jsx)(s.a,{exact:!0,path:"/",component:nt})})}),document.getElementById("root")),tt()}},[[394,1,2]]]);
//# sourceMappingURL=main.0cd07ecd.chunk.js.map